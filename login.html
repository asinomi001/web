<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <link rel="icon" type="images/x-icon" href="images/title.ico" />
  <style>
    body { font-family:"Comic Sans MS"; background:#f0f4ff; text-align:center; }
    h1 { color:#2b7cff; }
    form { margin: 20px auto; max-width: 400px; text-align:left; background:white; padding:20px; border-radius:8px; }
    label { display:block; margin:10px 0 5px; }
    input[type="text"], input[type="password"] { width:100%; padding:8px; border-radius:6px; border:1px solid #ccc; }
    button { background:#2b7cff; color:white; border:none; padding:10px 20px; border-radius:6px; cursor:pointer; margin-top:10px; transition:0.2s; }
    button:hover { background:#1a5fd1; }
  </style>
</head>
<body>

<h1>LOG IN TO YOUR ACCOUNT</h1>

<form id="loginForm">
  <label>Username</label>
  <input type="text" id="login" required>

  <label>Password</label>
  <input type="password" id="password" required>

  <button type="submit">Log In</button>
</form>

<script>
// Проверка, если пользователь уже залогинен
const loggedUser = JSON.parse(localStorage.getItem('logged_user'));
if(loggedUser){ window.location.href='account.html'; }

document.getElementById('loginForm').addEventListener('submit', e=>{
  e.preventDefault();
  const login = document.getElementById('login').value.trim();
  const password = document.getElementById('password').value.trim();

  let users = JSON.parse(localStorage.getItem('users_db')) || [];
  const user = users.find(u=>u.login===login && u.password===password);

  if(user){
    localStorage.setItem('logged_user', JSON.stringify(user));
    alert('Successfully logged in!');
    window.location.href='account.html';
  } else {
    alert('Incorrect username or password!');
  }
});
</script>

</body>
</html>
